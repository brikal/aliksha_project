{% extends 'base.html' %}
{% load static %}

{% block title %}
New Collections - Aliksha
{% endblock %}

{% block content %}

<div class="sticky-product-bar">
    <div class="bar-left">
        <button class="layout-btn active" id="grid3Btn" title="3 Column Grid">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" stroke="none">
                <rect x="2" y="2" width="5.5" height="20"></rect>
                <rect x="9.25" y="2" width="5.5" height="20"></rect>
                <rect x="16.5" y="2" width="5.5" height="20"></rect>
            </svg>
        </button>
        <button class="layout-btn" id="grid4Btn" title="4 Column Grid">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor" stroke="none">
                <rect x="2" y="2" width="4" height="20"></rect>
                <rect x="7.3" y="2" width="4" height="20"></rect>
                <rect x="12.6" y="2" width="4" height="20"></rect>
                <rect x="18" y="2" width="4" height="20"></rect>
            </svg>
        </button>
    </div>
    <div class="bar-center">
        <h3 class="bar-title">New Collections</h3>
        <span class="bar-count">{{ products|length }} PRODUCTS</span>
    </div>
    <div class="bar-right">
        <div class="sort-wrapper">
            <button class="bar-btn" id="sortBtn">SORT BY <span
                    style="font-size: 10px; margin-left: 4px;">▼</span></button>
            <div class="sort-dropdown" id="sortDropdown">
                <div class="sort-option" data-sort="price-asc">Price: Low to High</div>
                <div class="sort-option" data-sort="price-desc">Price: High to Low</div>
                <div class="sort-option" data-sort="name-asc">Name: A-Z</div>
            </div>
        </div>
        <button class="bar-btn">FILTER</button>
    </div>
</div>

<div class="editorial-container">
    {% if products %}
    <div class="products-grid editorial-grid" id="productGrid">
        {% for product in products %}
        <div class="product-card editorial-card" data-price="{{ product.price }}" data-name="{{ product.name }}">
            <a href="/product/{{ product.id }}/" class="product-link">
                <div class="image-wrapper">
                    <img src="{{ product.image.url }}" alt="{{ product.name }}">
                </div>
                <div class="product-info">
                    <h3 class="product-title">{{ product.name }}</h3>
                    <p class="product-price">₹ {{ product.price }}</p>
                </div>
            </a>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-category">
        <p>No products available in this collection at the moment.</p>
        <a href="/" class="btn">Return Home</a>
    </div>
    {% endif %}
</div>

{% endblock %}